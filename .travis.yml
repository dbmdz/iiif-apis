language: java
jdk:
- openjdk8
- openjdk11
addons:
  apt:
    packages:
    - libxml2-utils
before_script:
- PROJECT_VERSION=$(xmllint --xpath '/*[local-name()="project"]/*[local-name()="version"]/text()' pom.xml)
script:
- mvn clean install -U
after_success:
- bash <(curl -s https://codecov.io/bash)
- if [[ "$PROJECT_VERSION" == *SNAPSHOT ]] && [[ "$TRAVIS_BRANCH" == "master" ]]; then mvn deploy -B -DskipTests=true --settings settings.xml; fi
deploy:
  provider: releases
  api_key:
    secure: JLAUavkGDr/prdrHAvZDYu3WSuS2Ds9dboR7EPCuukNhI7eCjwLqkr4UZwCx6p1J/fy+a3RzOFhVVGx1HVuog9dk42oyGIw21MwNrTtk20nxaTUKZKyLKbXoXNuPZ31bOGcvYVefr+vswM5rmBxyT9x0s7d08LiQj7Ui3ZQGOsFINLaL0UIWk+k2TqD9kvGoooQ/2LUZvzT9OnK8X9TwK5GQhMhhsFur3HWI7iTfonDlcjJqahXYOSScXl1oluS/mhc3wLmdsnP8ca9ONxybj72gWpfxF1UBoeShrTeADLcLnUzTzWPPPoihXgsxYNC0RJQ47LaFZkzDEmudH1EKOct8t9tM0RqNPzuAYAcKXQwRMLTFzGfTRH9NGGWu4VaT0s+SBOY2xarDySPT5Fk+E2/BWCAZU0imQoMSD13w0xd6t6mn6hRcu/HsG2/s4xTA/i6c7wyTeAS2WqNkeZliFdKoPYT9YvRWKVS3sQCflIKozez7Ru3SOkqZGShHkwRVRCYz53UdambLZDxMSolLytG/c+ZcQ9DP/MrI+XOKVfoV1+z3C/W5P4TRpj+cq5jGCqSR3XsWp+ov1VwgPzsfsuOtolwrhfjyueHczZqtuPhbuZS+PlDTGK2/8YcEGUGnoNt/HLyP1rNRQrhZuf3S9tsVBpT72oYPYD5MTUpkmbc=
  file_glob: true
  file:
  - target/*.jar
  skip_cleanup: true
  on:
    tags: true
env:
  global:
  - secure: PK0/9GlofhYJgpJj2NyCMubZyrHDEyuGJBwnB9FiCrXPRVuJw0UwL3ufM6QQGGMZBvgzW+s6S0grgbyFYi8YbyvhYxL0sJSqZkQHAR19d6onw6REWGqfovydc0kTXLAm+v2x1+3g2TtePHPyCk7TgeKHQ52IlIrJLL8XdIP+WZm0SVj1H+/QBPro/C2Eiq8wvDlwj0Fdo30mnNMzOF66A37YQ44rWhYgF0JGQPBLVtRLZkjTQ/6HN8OPOpPMX2ZJS/sUTah5Nd+kEZp/C2IS+UaJ4hVvdKndnAUHoz6aLVg2runeSyG0Ku5FXV4EJXMISLNeqJ5pqTXzzPxjdCza5DOZAekBbU9bWE1izdsm3baYqrP7wSFDVCotCEKW/jsHdjK5Tm6ulAEM7LWxRpIwHezrSDWiebe5402igcyH8uwOeYVUtFtmCcOq76smqec/mcB9uoEJoV2xc/P4KWFHODM7wk3oVpNY4zprYkPndO0Z+elyDeQpiinbuz0fOnFdY1aJGRKXrWYr3M89LvZh0IpCw9L0uRv3/9s7HOK+Rd3FQSedDakjPza8H6UBz/ZRgG52uYLj3nbIzgOp78bI+ezPq1ey7CqVCWa4MnisHDOXFPsQfXF6bqxXwSooqVHDAoXhLsQrFN8LUIwqbMHPENvzyfBXB6AUdb2B99LUY7M=
  - secure: T9tIJl3oVNFVVQXxv6iocGlrO+TwW6HAgbDE0LrfyeXsKPlJdNLh/UlEiepQIRAiB+OgP1eSK/K5XlDQFhYMKgiFy7H6SbBslbPaJOBtxFfFP2ZjkG+oHkdZDW6xvrzWCHJDRnzy+GA8ubzbEM47jlIHt4nS5JsATWYqFZU3NaB76saTqaCfHit2JWIdnj0BzULlGeJ9jZdDyyUcwT5ZaNdHQloBELwSYsvAetTNug+c66Vil98o4sKPGXBS/hXdPjbqsozeb4+8NdYyUpHOWjpPX4vkPTdPfOwaJQomqjo6zSnWYb8NrNRRiX8GnrFL/jlkjrw4CBovYgFL8kIHAng2Rzofl6OPoM5+RtvB5OXCEvU6W0yYdqiyucYJfbzyHbBSs7BfwrCVy4T17FQ/HXzw9CNVYD8gBQIHPd/4Ma8FK9oq3qroa/Q749KH0tPGB3c3MFkmII9VQDPHAOs4AUYwr06id9jAww20eIS/UwUUUreHvFZ0lfSRL3x8FkpHiiT2yLy800cOWt9jsk8sO6l8t+JOneKlCPzQ2f3dpGI8lTas/8YLOIK43pdwlmw4aIRBUZ52wVlZiNVHV8aTd7utCNFySrrOw5l5n17hEg/UMm5ELGeRvws7o1SDb2sHY0TpvYFy+qFBxYD+12vv013d0/yLEPAFSkdeyg2rXCA=
